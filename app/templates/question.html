{% extends "base.html" %}

{% block title %}Preguntas{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">

    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 mb-8">
        <h2 class="text-xl font-bold text-gray-800 mb-4">ğŸ’¬ Deja tu pregunta anÃ³nima</h2>

        <form action="/question" method="post">
  <div class="flex items-center justify-between mb-4 bg-gray-50 p-3 rounded-lg border border-gray-100">
    <span class="text-sm text-gray-600 font-medium">Â¿Ocultar tu nombre?</span>

    <label class="inline-flex items-center cursor-pointer">
        <input type="checkbox" name="is_anonymous" class="sr-only peer">

        <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer
                    peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white
                    after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300
                    after:border after:rounded-full after:h-5 after:w-5 after:transition-all
                    peer-checked:bg-indigo-600"></div>

        <span class="ms-3 text-sm font-medium text-gray-500 peer-checked:text-indigo-600">
            AnÃ³nimo
        </span>
    </label>
</div>
            <div class="mb-4">
                <span class="text-sm text-gray-600 font-medium">
                    Recorda: Solo deben ser preguntas que se respondan con nombres de otras personas!
                </span>

                <label class="block text-sm font-medium text-gray-700 mb-2">Tu pregunta:</label>

                <textarea name="content" rows="3" required
                          placeholder="Ejemplo: Quien seria el primero en correr en una pelea de boliche?"
                          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"></textarea>
            </div>

            <button type="submit"
                    class="bg-indigo-600 text-white px-5 py-2 rounded-lg hover:bg-indigo-700 transition font-medium">
                Publicar Pregunta
            </button>
        </form>
    </div>

    <h3 class="text-lg font-bold text-gray-700 mb-4">Preguntas recientes</h3>

<div class="space-y-4">
    {% for question in questions %}
    <div class="bg-white p-5 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition">
        <p class="text-gray-800 text-lg">{{ question.content }}</p>

        <div class="flex justify-between items-end mt-4">
            <div>
                <div class="text-xs text-gray-600 font-bold">
                    Autor: {{ question.uploaded_by }}
                </div>
                <div class="text-xs text-green-600 font-mono mt-1">
                    Fecha publicada: {{ question.uploaded_at.strftime('%d/%m/%Y %H:%M') }}
                </div>
            </div>

            <a href="/question/{{ question.id }}"
               class="bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold py-2 px-4 rounded-lg transition shadow-sm flex items-center gap-2">
                Ver respuestas
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
                  <path fill-rule="evenodd" d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z" clip-rule="evenodd" />
                </svg>
            </a>
        </div>
    </div>
    {% else %}
    <p class="text-gray-500 italic text-center py-4">Nadie ha preguntado nada aÃºn.</p>
    {% endfor %}
</div>

</div>
{% endblock %}